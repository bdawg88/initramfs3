From 6352af6692f343c09f0c5037362605543e0efc5b Mon Sep 17 00:00:00 2001
From: gsstudios <josh.lay@exemail.com.au>
Date: Wed, 27 Jan 2016 10:21:55 +1100
Subject: [PATCH] New control. lowmem vm ratio tuning + my own small tweaks.
 Thanks to @DorimanX

---
 res/customconfig/actions/lowmem_reserve      | 29 ++++++++++++++++++++++++++++
 res/customconfig/battery.profile             |  1 +
 res/customconfig/customconfig.xml            |  7 +++++++
 res/customconfig/default.profile             |  1 +
 res/customconfig/extreme_battery.profile     |  1 +
 res/customconfig/extreme_performance.profile |  1 +
 res/customconfig/performance.profile         |  1 +
 sbin/ext/cortexbrain-tune.sh                 |  7 -------
 8 files changed, 41 insertions(+), 7 deletions(-)
 create mode 100644 res/customconfig/actions/lowmem_reserve

diff --git a/res/customconfig/actions/lowmem_reserve b/res/customconfig/actions/lowmem_reserve
new file mode 100644
index 0000000..403c774
--- /dev/null
+++ b/res/customconfig/actions/lowmem_reserve
@@ -0,0 +1,29 @@
+#!/sbin/busybox sh
+
+# $1 - "lowmem_reserve"
+# $2 - value=
+# Created By Dorimanx
+
+if [ "a$2" != "a" ]; then
+	lowmem_reserve=$2;
+
+case "${lowmem_reserve}" in
+	relaxed)
+		echo "48 48" > /proc/sys/vm/lowmem_reserve_ratio;
+	;;
+	default)
+		echo "32 32" > /proc/sys/vm/lowmem_reserve_ratio;
+	;;
+	boosted)
+		echo "24 24" > /proc/sys/vm/lowmem_reserve_ratio;
+	;;
+	high_pressure)
+		echo "16 16" > /proc/sys/vm/lowmem_reserve_ratio;
+	;;
+	*)
+		lowmem_reserve=boosted;
+	;;
+	esac;
+fi;
+
+echo ${lowmem_reserve};
-- 
1.9.1

